<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height initial-scale=1.0">
    <title>Seating</title>
    <style>
        body {
            background-size: cover;
            background-attachment: scroll;
            color: white;
            font-family: sans-serif;
            text-align: center;
            position: sticky;
            overflow: auto;
            min-width: 40rem;
            background-color: rgb(17, 17, 17);
            margin: 0;
        }
        .container {
            height: fit-content;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #search-container {
            margin-bottom: 2rem;
            position: relative;
        }
        #input-name {
            width: 30rem;
            height: 3rem;
            font-size: 1.7rem;
        }
        #seating-layout {
            display: none;
            grid-template-rows: repeat(17, 3.3rem);
            grid-template-columns: repeat(6, 3.3rem);
            left: 25rem;
            top: 0rem;
            row-gap: 0.5rem;
            column-gap: 1.2rem;
            padding-top: 2rem;
            padding-bottom: 2rem;
            padding-left: 2rem;
            padding-right: 2rem;
        }
        .seat {
            border-radius: 50%;
            background-image: url('https://m.media-amazon.com/images/I/81SG5Wy+-mL.png');
            background-position: center;
            background-size: 115%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .highlight {
            box-shadow: 0 0 1.5rem #f3f3f2;
            transform: scale(1.1);
            font-weight: bold;
            font-size: 0.8rem;
            color: #FFDF00;
            text-shadow: 
            -1px -1px 0 #000,  
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            z-index: 1;
        }
        .table {
            background-color: white;
            z-index: -1;
            width: 3.5rem;
            justify-self: center;
        }
        #planet {
            position: absolute;
            left: -20rem;
            top: 15rem;
            width: 40rem;
            height: 40rem;
            background-image: url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/3f4c4b7d-a2ad-49a4-ad0d-2327cab52046/decij2u-a630d864-8d06-4dd8-93f1-613204c24718.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzNmNGM0YjdkLWEyYWQtNDlhNC1hZDBkLTIzMjdjYWI1MjA0NlwvZGVjaWoydS1hNjMwZDg2NC04ZDA2LTRkZDgtOTNmMS02MTMyMDRjMjQ3MTgucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.gS0iTQw7VJ79khiifJUMZFSxG-N_MsKMN38BLJTosig');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
        }
        #suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            width: 30rem;
            max-height: 20rem;
            overflow-y: auto;
            background-color: white;
            color: black;
            display: none;
            z-index: 10;
            border: 1px solid #ccc;
            border-top: none;
        }
        .suggestion-item {
            padding: 0.5rem;
            cursor: pointer;
        }
        .suggestion-item:hover {
            background-color: lightgray;
        }
        @media (max-width: 420px) {
            #seating-layout {
                grid-template-rows: repeat(17, 3.3rem);
                grid-template-columns: repeat(6, 3.3rem);
            }
            #input-name {
                width: 20rem;
            }
            #suggestions {
                width: 20rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="search-container">
            <input id="input-name" placeholder="Search your name" aria-label="Search for your name">
            <div id="suggestions"></div>
        </div>
        <div id="seating-layout"></div>
        <div id="message"></div>
    </div>
    <script>
        const guestList = [
            {name:"Domas",c:1,r:1,grp:1}, {name:"Benas",c:2,r:1,grp:16}, {name:"Valeria",c:5,r:1,grp:17}, {name:"Gelija",c:6,r:1,grp:17},
            {name:"Rugilė",c:1,r:2,grp:1}, {name:"Dovilė",c:2,r:2,grp:15}, {name:"Gvidas",c:5,r:2,grp:17}, {name:"Sofija G",c:6,r:2,grp:26},
            {name:"Gabija",c:1,r:3,grp:2}, {name:"Julius",c:2,r:3,grp:15}, {name:"Vaidas",c:5,r:3,grp:17}, {name:"Sandra",c:6,r:3,grp:26},
            {name:"Mantvydas",c:1,r:4,grp:3}, {name:"Odeta",c:2,r:4,grp:14}, {name:"Natalja",c:5,r:4,grp:17}, {name:"Leo",c:6,r:4,grp:26},
            {name:"Eglė",c:1,r:5,grp:3}, {name:"Tomas",c:2,r:5,grp:14}, {name:"Zigmas",c:5,r:5,grp:18}, {name:"Egidijus",c:6,r:5,grp:26},
            {name:"Vaiva",c:1,r:6,grp:4}, {name:"Karolina",c:2,r:6,grp:13}, {name:"Jūratė",c:5,r:6,grp:18}, {name:"Kazimieras ?",c:6,r:6,grp:21},
            {name:"Ieva",c:1,r:7,grp:5}, {name:"Tautvydas",c:2,r:7,grp:13}, {name:"Valerija",c:5,r:7,grp:19}, {name:"Adelė",c:6,r:7,grp:21},
            {name:"Kamilis",c:1,r:8,grp:5}, {name:"Algimantas S",c:2,r:8,grp:12}, {name:"Joana",c:5,r:8,grp:20}, {name:"Algimantas ?",c:6,r:8,grp:20},
            {name:"Austėja",c:1,r:9,grp:6}, {name:"Rūta",c:2,r:9,grp:11}, {name:"Martynas",c:5,r:9,grp:21}, {name:"Sandra ?",c:6,r:9,grp:20},
            {name:"Kristupas",c:1,r:10,grp:6}, {name:"Kazimieras P",c:2,r:10,grp:11}, {name:"Dovydas",c:5,r:10,grp:22}, {name:"Sofija ?",c:6,r:10,grp:20},
            {name:"Gina",c:1,r:11,grp:7}, {name:"Milda",c:2,r:11,grp:10}, {name:"Eva",c:5,r:11,grp:22}, {name:"Mantas",c:6,r:11,grp:25},
            {name:"Stasys",c:1,r:12,grp:7}, {name:"Ruslan",c:2,r:12,grp:10}, {name:"Sigita",c:5,r:12,grp:22}, {name:"Giedrė",c:6,r:12,grp:25},
            {name:"Jadvyga",c:1,r:13,grp:7}, {name:"Aušra",c:2,r:13,grp:9}, {name:"Vytautas",c:5,r:13,grp:22}, {name:"Vitalija",c:6,r:13,grp:24},
            {name:"Sofija M",c:1,r:14,grp:8}, {name:"Jonas",c:2,r:14,grp:9}, {name:"Laura",c:5,r:14,grp:23}, {name:"Alvydas",c:6,r:14,grp:24},
            {name:"Aurelija",c:1,r:15,grp:8}, {name:"Aldona",c:2,r:15,grp:8}, {name:"Marius",c:5,r:15,grp:23}, {name:"Leonas",c:6,r:15,grp:24},
            {name:"Karolis",c:1,r:16,grp:8}, {name:"Gediminas",c:2,r:16,grp:8}, {name:"Morta",c:5,r:16,grp:23}, {name:"Marija",c:6,r:16,grp:24},
            {name:"Markas",c:1,r:17,grp:8}, {name:"Ringaudas",c:2,r:17,grp:7}, {name:"Herkus",c:5,r:17,grp:23}, {name:"Adas",c:6,r:17,grp:24},
        ];
        // Sort guests by name
        guestList.sort((a, b) => a.name.localeCompare(b.name));
        // Create seat elements
        const layout = document.getElementById('seating-layout');
        guestList.forEach(guest => {
            const seatDiv = document.createElement('div');
            seatDiv.id = guest.name;
            seatDiv.classList.add('seat');
            seatDiv.style.gridRow = guest.r;
            seatDiv.style.gridColumn = guest.c;
            layout.appendChild(seatDiv);
        });
        // Create left table
        const leftTable = document.createElement('div');
        leftTable.classList.add('table');
        leftTable.style.gridColumn = '1 / 3';
        leftTable.style.gridRow = '1 / 18';
        layout.appendChild(leftTable);

        // Create right table
        const rightTable = document.createElement('div');
        rightTable.classList.add('table');
        rightTable.style.gridColumn = '5 / 7';
        rightTable.style.gridRow = '1 / 18';
        layout.appendChild(rightTable);
        // Autocomplete logic
        const input = document.getElementById('input-name');
        const suggestionsDiv = document.getElementById('suggestions');
        input.addEventListener('input', handleInput);
        input.addEventListener('blur', () => {
            setTimeout(() => {
                suggestionsDiv.style.display = 'none';
            }, 100);
        });
        function handleInput() {
            const value = input.value.trim().toLowerCase();
            suggestionsDiv.innerHTML = '';
            suggestionsDiv.style.display = 'none';
            if (value.length === 0) {
                return;
            }
            const matches = guestList.filter(guest => guest.name.toLowerCase().startsWith(value));
            if (matches.length > 0) {
                matches.forEach(guest => {
                    const item = document.createElement('div');
                    item.classList.add('suggestion-item');
                    item.textContent = guest.name;
                    item.addEventListener('click', () => {
                        input.value = guest.name;
                        suggestionsDiv.innerHTML = '';
                        suggestionsDiv.style.display = 'none';
                        // Trigger seating
                        const guestSelected = guestList.find(g => g.name.toLowerCase() === guest.name.toLowerCase());
                        if (guestSelected) {
                            guestList.forEach(g2 => {
                                if (guestSelected.grp === g2.grp) {
                                    const seatDiv = document.getElementById(g2.name);
                                    seatDiv.classList.add('highlight');
                                    seatDiv.innerText = g2.name;
                                }
                            });
                            document.getElementById('search-container').style.display = 'none';
                            layout.style.display = 'grid';
                        } else {
                            alert('Guest not found');
                        }
                    });
                    suggestionsDiv.appendChild(item);
                });
                suggestionsDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html>
