<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sėdėjimas</title>
    <style>
        body {
            background-size: cover;
            background-attachment: scroll;
            color: white;
            font-family: "Arial", sans-serif;
            background-image: url('https://i.pinimg.com/736x/85/e2/d0/85e2d0d867dc00bc9d5f2b2e330861b5.jpg');
            text-align: center;
            overflow-x: hidden;
            overflow-y: scroll;
            background-color: rgb(34, 33, 33);
        }
        .container {
            height: fit-content;
            display: flex;
            width: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #search-container {
            position: relative;
            width: 90%;
        }
        #input-name {
            border-radius: 0.5rem;
            width: 100%;
            height: 3rem;
            font-size: 1.7rem;
            text-align: center;
        }
        #suggestions {
            border-radius: 0.5rem;
            position: absolute;
            width: 100%;
            max-height: 20rem;
            overflow-y: auto;
            background-color: rgb(184, 173, 173);
            color: black;
            display: none;
            z-index: 10;
            border: 1px solid #ccc;
            border-top: none;
        }
        .suggestion-item {
            padding: 0.5rem;
            cursor: pointer;
        }
        #seating-layout {
            display: none;
            grid-template-rows: repeat(17, 8vw);
            grid-template-columns: repeat(8, 8vw);
            row-gap: 0.5vw;
            column-gap: 2vw;
            padding-top: 4vw;
            padding-bottom: 4vw;
            padding-left: 4vw;
            padding-right: 10vw;
        }
        .seat {
            border-radius: 50%;
            background-image: url('https://m.media-amazon.com/images/I/81SG5Wy+-mL.png');
            background-position: center;
            background-size: 115%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 4;
        }
        .highlight {
            border-radius: 50%;
            box-shadow: 0 0 6vw 2vw #ffffff;
            z-index: 3;
        }
        .name_tag {
            font-weight: bold;
            font-size: 2.5vw;
            color: #ffffff;
            z-index: 5;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .table {
            background-color: white;
            z-index: 2;
            width: 5vw;
            justify-self: center;
        }
        #planet {
            position: absolute;
            left: 80vw;
            top: 30%;
            width: 80vw;
            height: 80vw;
            background-image: url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/3f4c4b7d-a2ad-49a4-ad0d-2327cab52046/decij2u-a630d864-8d06-4dd8-93f1-613204c24718.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzNmNGM0YjdkLWEyYWQtNDlhNC1hZDBkLTIzMjdjYWI1MjA0NlwvZGVjaWoydS1hNjMwZDg2NC04ZDA2LTRkZDgtOTNmMS02MTMyMDRjMjQ3MTgucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.gS0iTQw7VJ79khiifJUMZFSxG-N_MsKMN38BLJTosig');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="search-container">
            <input id="input-name" placeholder="Įveskite vardą">
            <div id="suggestions"></div>
        </div>
        <div id="seating-layout"></div>
    </div>
    <div id="planet"></div>
    <script>
        const guestList = [
            {name:"Benas",c:2,r:1,grp:1}, {name:"Rugilė",c:3,r:1,grp:30}, {name:"Valerija K.",c:6,r:1,grp:17}, {name:"Gelija",c:7,r:1,grp:17},
            {name:"Gabija",c:2,r:2,grp:1}, {name:"Domas",c:3,r:2,grp:30}, {name:"Gvidas",c:6,r:2,grp:17}, {name:"Sofija Geč.",c:7,r:2,grp:26},
            {name:"Mantvydas",c:2,r:3,grp:3}, {name:"Dovilė",c:3,r:3,grp:16}, {name:"Vaidas",c:6,r:3,grp:17}, {name:"Leonas Geč.",c:7,r:3,grp:26},
            {name:"Eglė",c:2,r:4,grp:3}, {name:"Julius",c:3,r:4,grp:16}, {name:"Natalija",c:6,r:4,grp:17}, {name:"Sandra Geč.",c:7,r:4,grp:26},
            {name:"Vaiva",c:2,r:5,grp:4}, {name:"Odeta",c:3,r:5,grp:15}, {name:"Zigmas",c:6,r:5,grp:18}, {name:"Egidijus Geč.",c:7,r:5,grp:26},
            {name:"Ieva",c:2,r:6,grp:5}, {name:"Tomas",c:3,r:6,grp:15}, {name:"Jūratė",c:6,r:6,grp:18}, {name:"Kazimieras N.",c:7,r:6,grp:21},
            {name:"Kamilis",c:2,r:7,grp:5}, {name:"Karolina",c:3,r:7,grp:14}, {name:"Valerija V.",c:6,r:7,grp:19}, {name:"Adelė N.",c:7,r:7,grp:21},
            {name:"Austėja",c:2,r:8,grp:1}, {name:"Tautvydas",c:3,r:8,grp:14}, {name:"Joana",c:6,r:8,grp:20}, {name:"Algimantas Gedv.",c:7,r:8,grp:20},
            {name:"Kristupas",c:2,r:9,grp:1}, {name:"Algimantas Sk.",c:3,r:9,grp:2}, {name:"Martynas",c:6,r:9,grp:21}, {name:"Sandra Gedv.",c:7,r:9,grp:20},
            {name:"Jadvyga",c:2,r:10,grp:1}, {name:"Rūta",c:3,r:10,grp:10}, {name:"Dovydas",c:6,r:10,grp:22}, {name:"Sofija Gedv.",c:7,r:10,grp:20},
            {name:"Stasys",c:2,r:11,grp:1}, {name:"Kazimieras P.",c:3,r:11,grp:10}, {name:"Eva",c:6,r:11,grp:22}, {name:"Mantas",c:7,r:11,grp:25},
            {name:"Gina",c:2,r:12,grp:1}, {name:"Milda",c:3,r:12,grp:6}, {name:"Sigita",c:6,r:12,grp:22}, {name:"Giedrė",c:7,r:12,grp:25},
            {name:"Ringaudas",c:2,r:13,grp:1}, {name:"Ruslan",c:3,r:13,grp:6}, {name:"Vytautas",c:6,r:13,grp:22}, {name:"Vitalija",c:7,r:13,grp:24},
            {name:"Markas Mar.",c:2,r:14,grp:8}, {name:"Aušra",c:3,r:14,grp:10}, {name:"Laura",c:6,r:14,grp:23}, {name:"Alvydas",c:7,r:14,grp:24},
            {name:"Sofija Mar.",c:2,r:15,grp:8}, {name:"Jonas",c:3,r:15,grp:10}, {name:"Marius",c:6,r:15,grp:23}, {name:"Leonas",c:7,r:15,grp:24},
            {name:"Aurelija Mar.",c:2,r:16,grp:8}, {name:"Aldona",c:3,r:16,grp:8}, {name:"Morta",c:6,r:16,grp:23}, {name:"Marija",c:7,r:16,grp:24},
            {name:"Karolis Mar.",c:2,r:17,grp:8}, {name:"Gediminas",c:3,r:17,grp:8}, {name:"Herkus",c:6,r:17,grp:23}, {name:"Adas",c:7,r:17,grp:24},
        ];
        const clm_to_name_position_map = {2:1,3:4,6:5,7:8};
        // Sort guests by name
        guestList.sort((a, b) => a.name.localeCompare(b.name));
        // Create seat elements
        const layout = document.getElementById('seating-layout');
        guestList.forEach(guest => {
            const highlightDiv = document.createElement('div');
            highlightDiv.id = guest.name + "-highlight";
            highlightDiv.style.gridRow = guest.r;
            highlightDiv.style.gridColumn = guest.c;
            const moonDiv = document.createElement('div');
            moonDiv.id = guest.name;
            moonDiv.classList.add('seat');
            moonDiv.style.gridRow = guest.r;
            moonDiv.style.gridColumn = guest.c;
            const seatDiv = document.createElement('div');
            seatDiv.id = guest.name + "seat";
            seatDiv.style.gridRow = guest.r;
            seatDiv.style.gridColumn = clm_to_name_position_map[guest.c];
            layout.appendChild(highlightDiv);
            layout.appendChild(moonDiv);
            layout.appendChild(seatDiv);
        });
        // Create left table
        const leftTable = document.createElement('div');
        leftTable.classList.add('table');
        leftTable.style.gridColumn = '2 / 4';
        leftTable.style.gridRow = '1 / 18';
        layout.appendChild(leftTable);

        // Create right table
        const rightTable = document.createElement('div');
        rightTable.classList.add('table');
        rightTable.style.gridColumn = '6 / 8';
        rightTable.style.gridRow = '1 / 18';
        layout.appendChild(rightTable);
        // Autocomplete logic
        const input = document.getElementById('input-name');
        const suggestionsDiv = document.getElementById('suggestions');
        input.addEventListener('input', handleInput);
        input.addEventListener('blur', () => {
            setTimeout(() => {
                suggestionsDiv.style.display = 'none';
            }, 100);
        });
        function handleInput() {
            const value = input.value.trim().toLowerCase();
            suggestionsDiv.innerHTML = '';
            suggestionsDiv.style.display = 'none';
            if (value.length === 0) {
                return;
            }
            const matches = guestList.filter(guest => guest.name.toLowerCase().startsWith(value));
            if (matches.length > 0) {
                matches.forEach(guest => {
                    const item = document.createElement('div');
                    item.classList.add('suggestion-item');
                    item.textContent = guest.name;
                    item.addEventListener('click', () => {
                        input.value = guest.name;
                        suggestionsDiv.innerHTML = '';
                        suggestionsDiv.style.display = 'none';
                        // Trigger seating
                        const guestSelected = guestList.find(g => g.name.toLowerCase() === guest.name.toLowerCase());
                        if (guestSelected) {
                            guestList.forEach(g2 => {
                                if (guestSelected.grp === g2.grp) {
                                    const highlightDiv = document.getElementById(g2.name + "-highlight");
                                    highlightDiv.classList.add('highlight');
                                    const seatDiv = document.getElementById(g2.name+"seat");
                                    seatDiv.classList.add('name_tag');
                                    seatDiv.innerText = g2.name;
                                }
                            });
                            document.getElementById('search-container').style.display = 'none';
                            layout.style.display = 'grid';
                        } else {
                            alert('Vardas nerastas');
                        }
                    });
                    suggestionsDiv.appendChild(item);
                });
                suggestionsDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html>
